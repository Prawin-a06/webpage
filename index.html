<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coconut Husk Sorting Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Roboto', sans-serif; background-color: #f0f4f8; margin: 0; padding: 0; }
    header { background-color: #2a9d8f; color: white; text-align: center; padding: 20px 0; font-size: 28px; font-weight: bold; }
    
    .total-weight { text-align: center; margin: 20px; font-size: 36px; font-weight: bold; color: #e63946; }
    
    .status-container { display: flex; justify-content: center; margin: 20px 0; }
    .status-box { padding: 20px 40px; border-radius: 10px; text-align: center; font-weight: bold; font-size: 20px; color: white; }
    .red { background-color: #e63946; }
    .gray { background-color: #6c757d; }
    .green { background-color: #2a9d8f; }
    .blue { background-color: #457b9d; }
    
    .metrics { display: flex; justify-content: center; margin: 20px 0; gap: 40px; flex-wrap: wrap; }
    .metric-box { background-color: white; padding: 20px; border-radius: 10px; text-align: center; width: 200px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
    .metric-box h2 { margin: 0; font-size: 32px; color: #2a9d8f; }
    .metric-box p { margin: 5px 0 0 0; font-size: 16px; color: #333; }
    
    .chart-container { width: 90%; max-width: 700px; margin: 30px auto; }
    canvas { background-color: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
    
    table { width: 90%; max-width: 700px; margin: 30px auto; border-collapse: collapse; background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
    th, td { padding: 12px; text-align: center; border-bottom: 1px solid #ddd; }
    th { background-color: #2a9d8f; color: white; }
    
    .buttons { text-align: center; margin: 30px 0; }
    button { padding: 12px 25px; margin: 5px; font-size: 16px; border: none; border-radius: 6px; cursor: pointer; background-color: #2a9d8f; color: white; transition: 0.3s; }
    button:hover { background-color: #21867a; }
</style>
</head>
<body>

<header>Coconut Husk Sorting Dashboard</header>

<!-- Total Wet Husk Wastage -->
<div class="total-weight" id="totalWeight">Total Wet Husk Wastage: 0 kg</div>

<!-- System Status -->
<div class="status-container">
    <div class="status-box gray" id="statusBox">Machine Not Running</div>
</div>

<!-- Metrics -->
<div class="metrics">
    <div class="metric-box">
        <h2 id="wetCount">0</h2>
        <p>Wet Husk Count</p>
    </div>
    <div class="metric-box">
        <h2 id="wetWeight">0 kg</h2>
        <p>Total Wet Husk Weight</p>
    </div>
</div>

<!-- Bar Chart -->
<div class="chart-container">
    <canvas id="wetChart" width="700" height="400"></canvas>
</div>

<!-- Day-by-Day Table -->
<table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Wet Husk Wastage (kg)</th>
        </tr>
    </thead>
    <tbody id="wastageTable">
        <tr><td>2025-09-21</td><td>45</td></tr>
        <tr><td>2025-09-22</td><td>47</td></tr>
        <tr><td>2025-09-23</td><td>50</td></tr>
    </tbody>
</table>

<!-- Buttons -->
<div class="buttons">
    <button onclick="refreshDashboard()">Refresh</button>
    <button onclick="exportCSV()">Export CSV</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Example: System Status
    function updateStatus(status) {
        const box = document.getElementById('statusBox');
        box.className = 'status-box ' + status.color;
        box.textContent = status.text;
    }

    // Update metrics
    function updateMetrics(count, weight) {
        document.getElementById('wetCount').textContent = count;
        document.getElementById('wetWeight').textContent = weight + ' kg';
        document.getElementById('totalWeight').textContent = 'Total Wet Husk Wastage: ' + weight + ' kg';
    }

    // Chart.js bar chart
    const ctx = document.getElementById('wetChart').getContext('2d');
    const wetChart = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['Wet Husk Wastage'],
            datasets: [{
                label: 'Weight (kg)',
                data: [0],
                backgroundColor: ['#2a9d8f']
            }]
        },
        options: {
            responsive: true,
            scales: { y: { beginAtZero: true, max: 200 } },
            plugins: { legend: { display: false } }
        }
    });

    function updateChart(weight) {
        wetChart.data.datasets[0].data[0] = weight;
        wetChart.update();
    }

    // Buttons
    function refreshDashboard() { alert("Refresh clicked — fetch data from backend."); }
    function exportCSV() { alert("Export CSV clicked — backend generates CSV."); }

    // Simulate live updates
    setTimeout(() => updateStatus({text: "Waiting", color: "gray"}), 1000);
    setTimeout(() => updateMetrics(5, 45), 2000);
    setTimeout(() => updateChart(45), 2000);
    setTimeout(() => updateStatus({text: "Wet Detected", color: "green"}), 3000);
</script>

</body>
</html>
